<idea-plugin>
    <id>com.glowxq.plugs.oneclick</id>
    <name>OneClick</name>
    <vendor email="glowxq@qq.com" url="https://github.com/glowxq">glowxq</vendor>

    <description><![CDATA[
    OneClick - 智能代码生成器，支持JavaBean和业务类的一键代码生成。

    功能特性：
    - 智能检测类类型（JavaBean vs 业务类）
    - JavaBean：生成getter/setter/toString/equals/hashCode方法
    - 业务类：生成日志字段、serialVersionUID等
    - 支持多种toString风格（JSON、简单、Apache Commons）
    - 支持fluent setter（链式调用）
    - 可配置的设置面板，支持中英双语
    - 一键折叠所有JavaBean方法

    快捷键：
    - Windows/Linux: Ctrl+Alt+G / Ctrl+Alt+F
    - macOS: Cmd+Option+G / Cmd+Option+F
    - 右键菜单: JavaBean Tools
    ]]></description>

    <!-- please see https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 注册设置面板 -->
        <applicationConfigurable
            parentId="tools"
            instance="com.glowxq.plugs.settings.OneClickSettingsConfigurable"
            id="OneClickSettings"
            displayName="OneClick"/>

        <!-- 注册快捷键设置面板 -->
        <applicationConfigurable
            parentId="OneClickSettings"
            instance="com.glowxq.plugs.settings.KeymapSettingsConfigurable"
            id="OneClickKeymapSettings"
            displayName="Keymap Settings"/>

        <!-- 注册设置服务 -->
        <applicationService serviceImplementation="com.glowxq.plugs.settings.OneClickSettings"/>
        <applicationService serviceImplementation="com.glowxq.plugs.settings.KeymapSettings"/>
    </extensions>

    <actions>
        <!-- 创建JavaBean工具组 -->
        <group id="JavaBeanToolsGroup" text="JavaBean Tools" description="JavaBean generation and management tools" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </group>

        <!-- 测试Action -->
        <action id="com.glowxq.plugs.TestAction"
                class="com.glowxq.plugs.actions.TestAction"
                text="Test Plugin"
                description="Test if plugin is working">
            <add-to-group group-id="JavaBeanToolsGroup" anchor="first"/>
        </action>

        <!-- 生成JavaBean方法的Action -->
        <action id="com.glowxq.plugs.GenerateJavaBeanMethodsAction"
                class="com.glowxq.plugs.actions.GenerateJavaBeanMethodsAction"
                text="Generate JavaBean Methods"
                description="Generate getter/setter/toString methods for JavaBean">
            <!-- 添加到Generate菜单 -->
            <add-to-group group-id="GenerateGroup" anchor="first"/>
            <!-- 添加到JavaBean工具组 -->
            <add-to-group group-id="JavaBeanToolsGroup" anchor="first"/>
            <!-- Windows/Linux快捷键 -->
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt G"/>
            <!-- macOS快捷键 (meta = Cmd键, alt = Option键) -->
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt G"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt G"/>
        </action>

        <!-- 折叠方法的Action -->
        <action id="com.glowxq.plugs.FoldJavaBeanMethodsAction"
                class="com.glowxq.plugs.actions.FoldJavaBeanMethodsAction"
                text="Fold JavaBean Methods"
                description="Fold all getter/setter/toString methods">
            <!-- 添加到Code菜单 -->
            <add-to-group group-id="CodeMenu" anchor="last"/>
            <!-- 添加到JavaBean工具组 -->
            <add-to-group group-id="JavaBeanToolsGroup" anchor="last"/>
            <!-- Windows/Linux快捷键 -->
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt F"/>
            <!-- macOS快捷键 (meta = Cmd键, alt = Option键) -->
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt F"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt F"/>
        </action>

        <!-- 代码模板生成Action -->
        <action id="com.glowxq.plugs.GenerateCodeTemplateAction"
                class="com.glowxq.plugs.actions.GenerateCodeTemplateAction"
                text="Generate Code Template"
                description="Generate common code templates">
            <add-to-group group-id="GenerateGroup" anchor="after" relative-to-action="com.glowxq.plugs.GenerateJavaBeanMethodsAction"/>
            <add-to-group group-id="JavaBeanToolsGroup" anchor="after" relative-to-action="com.glowxq.plugs.GenerateJavaBeanMethodsAction"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt T"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt T"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt T"/>
        </action>

        <!-- 重构助手Action -->
        <action id="com.glowxq.plugs.RefactorAssistantAction"
                class="com.glowxq.plugs.actions.RefactorAssistantAction"
                text="Refactor Assistant"
                description="Provide common refactoring operations">
            <add-to-group group-id="RefactoringMenu" anchor="last"/>
            <add-to-group group-id="JavaBeanToolsGroup" anchor="after" relative-to-action="com.glowxq.plugs.GenerateCodeTemplateAction"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt R"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt R"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt R"/>
        </action>

        <!-- 智能注释生成Action -->
        <action id="com.glowxq.plugs.SmartCommentAction"
                class="com.glowxq.plugs.actions.SmartCommentAction"
                text="Smart Comment"
                description="Generate comments based on code context">
            <add-to-group group-id="CodeMenu" anchor="after" relative-to-action="com.glowxq.plugs.FoldJavaBeanMethodsAction"/>
            <add-to-group group-id="JavaBeanToolsGroup" anchor="after" relative-to-action="com.glowxq.plugs.RefactorAssistantAction"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt C"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt C"/>
        </action>

        <!-- 批量生成Action -->
        <action id="com.glowxq.plugs.BatchGenerateAction"
                class="com.glowxq.plugs.actions.BatchGenerateAction"
                text="Batch Generate JavaBean Methods"
                description="Batch generate JavaBean methods for selected files or packages">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt B"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt B"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt B"/>
        </action>
    </actions>
</idea-plugin>
